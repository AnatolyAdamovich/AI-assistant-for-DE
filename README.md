# Data Platform Automation


Прототип комплексной системы, автоматизирующей полный цикл задач по построению аналитической платформы:
1. Реализация ELT-процессов
2. Моделирование аналитического хранилища
3. Построение дашбордов

**Основная идея** - автоматизация решения типовых задач с помощью Large Language Models через API-интерфейс.


## Architecture

![architecture](infra/arch.png)
Система реализована по модульному принципу и включает 4 основных LLM-компонента:
1. `AnalyticsSpecGenerator`
    Модуль для работы с пользовательским вводом. На основе описания желаемой аналитической системы (источники данных, метрики и т.д.) с помощью LLM формируется структурированное техническое задание (AnalyticsSpecification). Включает автоматические рекомендации по метрикам и преобразованиям.

2. `AirflowDagGenerator`
    Модуль для генерации DAG-файлов Airflow. Использует спецификацию из первого модуля для создания пайплайнов (шаблонные вызовы dbt-команд, функции для извлечения и загрузки данных). Итоговый DAG сохраняется в директорию, смонтированную в Docker-контейнер Airflow.
3. `DbtGenerator`
    Модуль для автоматической генерации dbt-проекта: SQL-модели, документация (yml), тесты качества данных. Использует описание метрик и преобразований из AnalyticsSpecification. Проект сохраняется для последующего запуска в Airflow.
4. `DashboardGenerator`
    Модуль для генерации json-описаний дашбордов и визуализаций. Использует REST API Metabase для автоматического создания аналитических отчетов.


## Технологический стек
* *Airflow* — организация и управление ELT-процессами
* *dbt* — моделирование и трансформация данных
* *Clickhouse* — аналитическое хранилище данных
* *Metabase* — BI-система для визуализации и построения дашбордов
* *Docker Compose* — контейнеризация и оркестрация сервисов
* *Caila* — прокси-сервис для взаимодействия с LLM
* *Langchain* — доступ к LLM и обработка естественного языка
* *Streamlit* — пользовательский интерфейс
